<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="pro.dengyi.myhome.dao.FamilyDao">
    <select id="selectFamilyDto" resultType="pro.dengyi.myhome.model.dto.FamilyDto">
        SELECT
            family.id,
            family.`name`,
            ( SELECT COUNT( id ) FROM floor ) AS floorCount,
            ( SELECT COUNT( id ) FROM room ) AS roomCount,
            ( SELECT COUNT( id ) FROM device ) AS deviceCount
        FROM
            family
    </select>
</mapper>